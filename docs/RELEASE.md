# å‘å¸ƒæµç¨‹æ–‡æ¡£

## ğŸ“¦ å‘å¸ƒ Release å®Œæ•´æŒ‡å—

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•ä» `dev` åˆ†æ”¯æ„å»ºå¹¶å‘å¸ƒ Antigravity Agent çš„æ–°ç‰ˆæœ¬åˆ° GitHub Releaseã€‚

---

## ğŸš€ å¿«é€Ÿå‘å¸ƒï¼ˆæ¨èï¼‰

### å‰ææ¡ä»¶

- å·²å®Œæˆå¼€å‘å’Œæµ‹è¯•
- ä»£ç å·²æäº¤åˆ° `dev` åˆ†æ”¯
- ç¡®ä¿æœ¬åœ°ä»£ç ä¸è¿œç¨‹åŒæ­¥

### å‘å¸ƒæ­¥éª¤

#### 1. æ›´æ–°ç‰ˆæœ¬å·

ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬æ›´æ–°ç‰ˆæœ¬å·ï¼ˆæ¨èï¼‰ï¼š

```bash
# è‡ªåŠ¨é€’å¢è¡¥ä¸ç‰ˆæœ¬ (1.2.0 -> 1.2.1)
./scripts/bump-version.sh patch

# è‡ªåŠ¨é€’å¢æ¬¡ç‰ˆæœ¬ (1.2.0 -> 1.3.0)
./scripts/bump-version.sh minor

# è‡ªåŠ¨é€’å¢ä¸»ç‰ˆæœ¬ (1.2.0 -> 2.0.0)
./scripts/bump-version.sh major

# æˆ–æŒ‡å®šå…·ä½“ç‰ˆæœ¬å·
./scripts/bump-version.sh 1.2.1
```

è„šæœ¬ä¼šè‡ªåŠ¨æ›´æ–°ä»¥ä¸‹æ–‡ä»¶çš„ç‰ˆæœ¬å·ï¼š
- `package.json`
- `src-tauri/tauri.conf.json`
- `src-tauri/Cargo.toml`

#### 2. æäº¤ç‰ˆæœ¬å·å˜æ›´

```bash
git add .
git commit -m "chore: bump version to 1.2.1"
```

#### 3. åˆ›å»ºå¹¶æ¨é€ Tag

```bash
# åˆ›å»º tagï¼ˆæ ¼å¼ï¼šv + ç‰ˆæœ¬å·ï¼‰
git tag v1.2.1

# æ¨é€ä»£ç å’Œ tag åˆ°è¿œç¨‹ä»“åº“
git push origin dev --tags
```

#### 4. ç­‰å¾…è‡ªåŠ¨æ„å»º

- æ¨é€ tag åï¼ŒGitHub Actions ä¼šè‡ªåŠ¨è§¦å‘æ„å»ºæµç¨‹
- è®¿é—®ä»“åº“çš„ **Actions** æ ‡ç­¾é¡µæŸ¥çœ‹æ„å»ºè¿›åº¦
- æ„å»ºæ—¶é—´ï¼šçº¦ 20-30 åˆ†é’Ÿï¼ˆå¹¶è¡Œæ„å»ºå¤šä¸ªå¹³å°ï¼‰

#### 5. å‘å¸ƒ Release

æ„å»ºå®Œæˆåï¼š

1. è®¿é—®ä»“åº“çš„ **Releases** é¡µé¢
2. æ‰¾åˆ°è‡ªåŠ¨åˆ›å»ºçš„ **Draft Release**ï¼ˆè‰ç¨¿ç‰ˆæœ¬ï¼‰
3. æ£€æŸ¥å‘å¸ƒè¯´æ˜å’Œé™„ä»¶
4. ç‚¹å‡» **Publish release** æ­£å¼å‘å¸ƒ

---

## ğŸ“‹ è¯¦ç»†è¯´æ˜

### ç‰ˆæœ¬å·å‘½åè§„èŒƒ

éµå¾ª [è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/lang/zh-CN/) è§„èŒƒï¼š`ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·`

- **ä¸»ç‰ˆæœ¬å·ï¼ˆMajorï¼‰**ï¼šä¸å…¼å®¹çš„ API ä¿®æ”¹
- **æ¬¡ç‰ˆæœ¬å·ï¼ˆMinorï¼‰**ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **ä¿®è®¢å·ï¼ˆPatchï¼‰**ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

**ç¤ºä¾‹**ï¼š
- `1.0.0` â†’ `1.0.1`ï¼šä¿®å¤ bug
- `1.0.0` â†’ `1.1.0`ï¼šæ–°å¢åŠŸèƒ½
- `1.0.0` â†’ `2.0.0`ï¼šé‡å¤§æ›´æ–°ï¼Œä¸å‘ä¸‹å…¼å®¹

### Tag å‘½åè§„èŒƒ

Tag å¿…é¡»ä»¥ `v` å¼€å¤´ï¼Œåè·Ÿç‰ˆæœ¬å·ï¼š

âœ… **æ­£ç¡®æ ¼å¼**ï¼š
- `v1.2.0`
- `v1.2.1`
- `v2.0.0`

âŒ **é”™è¯¯æ ¼å¼**ï¼š
- `1.2.0`ï¼ˆç¼ºå°‘ v å‰ç¼€ï¼‰
- `version-1.2.0`ï¼ˆæ ¼å¼ä¸åŒ¹é…ï¼‰

### æ„å»ºäº§ç‰©

æ¯æ¬¡å‘å¸ƒä¼šç”Ÿæˆä»¥ä¸‹å¹³å°çš„å®‰è£…åŒ…ï¼š

#### Windows
- `Antigravity Agent_x.x.x_x64-setup.exe` - å®‰è£…ç‰ˆï¼ˆæ¨èï¼Œæ”¯æŒè‡ªåŠ¨æ›´æ–°ï¼‰
- `Antigravity-Agent-x86_64-Portable.zip` - ä¾¿æºç‰ˆï¼ˆè§£å‹å³ç”¨ï¼‰

#### macOS
- `Antigravity Agent_aarch64.dmg` - Apple Siliconï¼ˆM1/M2/M3ï¼‰
- `Antigravity Agent_x86_64.dmg` - Intel Mac
- `Antigravity Agent_aarch64.app.tar.gz` - è‡ªåŠ¨æ›´æ–°åŒ…ï¼ˆARM64ï¼‰
- `Antigravity Agent_x86_64.app.tar.gz` - è‡ªåŠ¨æ›´æ–°åŒ…ï¼ˆIntelï¼‰

#### Linux
- `antigravity-agent_x.x.x_amd64.AppImage` - é€šç”¨æ ¼å¼
- `antigravity-agent_x.x.x_amd64.deb` - Debian/Ubuntu

---

## ğŸ”§ æ‰‹åŠ¨å‘å¸ƒï¼ˆé«˜çº§ï¼‰

### åœºæ™¯ 1ï¼šæœ¬åœ°æµ‹è¯•æ„å»º

```bash
# å®‰è£…ä¾èµ–
npm install

# æ„å»ºåº”ç”¨ï¼ˆä¸å‘å¸ƒï¼‰
npm run tauri:build
```

æ„å»ºäº§ç‰©ä½äºï¼š`src-tauri/target/release/bundle/`

### åœºæ™¯ 2ï¼šæ‰‹åŠ¨è§¦å‘ GitHub Actions

1. è®¿é—®ä»“åº“çš„ **Actions** æ ‡ç­¾é¡µ
2. é€‰æ‹© **Release** å·¥ä½œæµ
3. ç‚¹å‡» **Run workflow**
4. é€‰æ‹©åˆ†æ”¯ï¼ˆé€šå¸¸æ˜¯ `dev`ï¼‰
5. ç‚¹å‡» **Run workflow** ç¡®è®¤

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: æ¨é€ tag åæ²¡æœ‰è§¦å‘æ„å»ºï¼Ÿ

**æ£€æŸ¥é¡¹**ï¼š
1. Tag æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆå¿…é¡»æ˜¯ `v*` æ ¼å¼ï¼‰
2. æ˜¯å¦æ­£ç¡®æ¨é€åˆ°è¿œç¨‹ï¼š`git push origin dev --tags`
3. æŸ¥çœ‹ Actions é¡µé¢æ˜¯å¦æœ‰é”™è¯¯æ—¥å¿—

**è§£å†³æ–¹æ³•**ï¼š
```bash
# åˆ é™¤æœ¬åœ° tag
git tag -d v1.2.1

# åˆ é™¤è¿œç¨‹ tag
git push origin :refs/tags/v1.2.1

# é‡æ–°åˆ›å»ºå¹¶æ¨é€
git tag v1.2.1
git push origin dev --tags
```

### Q2: ç‰ˆæœ¬å·ä¸ä¸€è‡´æ€ä¹ˆåŠï¼Ÿ

**åŸå› **ï¼šæ‰‹åŠ¨ä¿®æ”¹äº†æŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å·

**è§£å†³æ–¹æ³•**ï¼š
```bash
# ä½¿ç”¨è„šæœ¬é‡æ–°ç»Ÿä¸€ç‰ˆæœ¬å·
./scripts/bump-version.sh 1.2.1
```

### Q3: æ„å»ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**å¸¸è§åŸå› **ï¼š
1. ä¾èµ–å®‰è£…å¤±è´¥
2. ç¼–è¯‘é”™è¯¯
3. æµ‹è¯•å¤±è´¥

**è§£å†³æ–¹æ³•**ï¼š
1. æŸ¥çœ‹ Actions é¡µé¢çš„é”™è¯¯æ—¥å¿—
2. åœ¨æœ¬åœ°è¿è¡Œ `npm run tauri:build` å¤ç°é—®é¢˜
3. ä¿®å¤é—®é¢˜åé‡æ–°æ¨é€ tag

### Q4: å¦‚ä½•æ’¤å›å·²å‘å¸ƒçš„ Releaseï¼Ÿ

âš ï¸ **æ³¨æ„**ï¼šå·²å‘å¸ƒçš„ Release æ’¤å›ä¼šå½±å“ç”¨æˆ·ï¼

```bash
# æ–¹æ³• 1: åœ¨ GitHub ç½‘é¡µç«¯æ“ä½œ
# Releases é¡µé¢ -> ç‚¹å‡» Release -> Delete

# æ–¹æ³• 2: ä½¿ç”¨ gh CLI
gh release delete v1.2.1 --yes
```

---

## ğŸ“š å‚è€ƒèµ„æº

- [Tauri å®˜æ–¹æ–‡æ¡£](https://tauri.app/)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ](https://semver.org/lang/zh-CN/)
- [GitHub Release æŒ‡å—](https://docs.github.com/en/repositories/releasing-projects-on-github)

---

## ğŸ“ å‘å¸ƒæ£€æŸ¥æ¸…å•

åœ¨å‘å¸ƒå‰ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹äº‹é¡¹ï¼š

- [ ] æ‰€æœ‰åŠŸèƒ½å·²æµ‹è¯•é€šè¿‡
- [ ] ä»£ç å·²åˆå¹¶åˆ° `dev` åˆ†æ”¯
- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°ï¼ˆä½¿ç”¨ `bump-version.sh`ï¼‰
- [ ] CHANGELOG å·²æ›´æ–°ï¼ˆå¦‚æœæœ‰ï¼‰
- [ ] æœ¬åœ°ä»£ç å·²æ¨é€åˆ°è¿œç¨‹
- [ ] Tag æ ¼å¼æ­£ç¡®ï¼ˆ`v*`ï¼‰
- [ ] GitHub Actions æ„å»ºæˆåŠŸ
- [ ] Release è‰ç¨¿æ£€æŸ¥æ— è¯¯
- [ ] å·²å‘å¸ƒ Release

---

**æœ€åæ›´æ–°**: 2025-12-01
**ç»´æŠ¤è€…**: wangqiupei
